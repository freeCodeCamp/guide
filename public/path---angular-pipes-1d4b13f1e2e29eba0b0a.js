webpackJsonp([37138518523152],{3589:function(n,a){n.exports={data:{markdownRemark:{html:'<h1>Pipes</h1>\n<h4>Motivation</h4>\n<p>Output data transformations. They ensure data is in a desirable format by the time it loads onto the user’s screen. Normally data transforms behind the scenes. With pipes, transforming data can take place in the template HTML. Pipes transform template data directly.</p>\n<p>Pipes look nice and are convenient. They help keep the component’s class lean of basic transformations. To put it technically, pipes encapsulate data transformation logic.</p>\n<h4>Output Transformation</h4>\n<p>As mentioned in the prior section, pipes transform data inline. The syntax of pipes correlate shell scripting. In many scripts, the output of one part of the command gets <em>piped</em> as output into the next part as input. That same trend characterizes Angular pipes.</p>\n<p>In Angular, there exists many ways to interact with data in the template HTML. Pipes can apply anywhere data gets parsed into the template HTML. They can occur within microsyntax logic and innerHTML variable interpolations. Pipes account for all transformations without adding onto the component class.</p>\n<p>Pipes are also <em>chainable</em>. You can integrate pipes one after the other to perform increasingly complex transformations. As specialized data transformers, pipes are hardly trivial.</p>\n<h4>Use Cases</h4>\n<p>Angular comes prepackaged with a basic set of pipes. Working with a couple of them will develop the intuition to handle the rest. The following list provides two examples.</p>\n<ul>\n<li>\n<p>AsyncPipe</p>\n</li>\n<li>\n<p>DatePipe</p>\n</li>\n</ul>\n<p>These two perform simple tasks. Their simplicity is massively beneficial.</p>\n<h5>AsyncPipe</h5>\n<p>This sections requires a basic understanding of Promises or Observables to fully appreciate. The AsyncPipe operates on either of the two. AsyncPipe extracts data from Promises/Observables as output for whatever comes next.</p>\n<p>In the case of Obervables, AsyncPipe subscribes automatically to the data source. Regardless of where the data comes from, the AsyncPipe subscribes to the source observable. <code>async</code> is the syntactical name of AsyncPipe as shown below.</p>\n<div class="gatsby-highlight">\n      <pre class="language-html"><code><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>ul</span> <span class="token attr-name">*ngFor</span><span class="token attr-value"><span class="token punctuation">=</span>“let</span> <span class="token attr-name">potato</span> <span class="token attr-name">of</span> <span class="token attr-name">(potatoSack$</span> <span class="token attr-name">|</span> <span class="token attr-name">async);</span> <span class="token attr-name">let</span> <span class="token attr-name">i</span><span class="token attr-value"><span class="token punctuation">=</span>index”</span><span class="token punctuation">></span></span>\n  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>li</span><span class="token punctuation">></span></span>Potatoe {{i + 1}}: {{potato}}<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>li</span><span class="token punctuation">></span></span>\n<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>ul</span><span class="token punctuation">></span></span>\n</code></pre>\n      </div>\n<p>In the example, <code>potatoSack$</code> is an Observable pending an upload of potatoes. Once the potatoes arrive, either synchronously or asynchronously, the AsyncPipe receives them as an <em>iterable</em> array. The list element then fills up with potatoes.</p>\n<h5>DatePipe</h5>\n<p>Formatting date strings takes a fair bit of hacking with the JavaScript <code>Date</code> object. The DatePipe provides a powerful way to format dates assuming the given input is a valid time format.</p>\n<div class="gatsby-highlight">\n      <pre class="language-typescript"><code><span class="token comment" spellcheck="true">// example.component.ts</span>\n\n@<span class="token function">Component</span><span class="token punctuation">(</span><span class="token punctuation">{</span>\n  templateUrl<span class="token punctuation">:</span> <span class="token string">\'./example.component.html\'</span>\n<span class="token punctuation">}</span><span class="token punctuation">)</span>\n<span class="token keyword">export</span> <span class="token keyword">class</span> <span class="token class-name">ExampleComponent</span> <span class="token punctuation">{</span>\n  timestamp<span class="token punctuation">:</span><span class="token keyword">string</span> <span class="token operator">=</span> ‘<span class="token number">2018</span><span class="token operator">-</span><span class="token number">05</span><span class="token operator">-</span>24T19<span class="token punctuation">:</span><span class="token number">38</span><span class="token punctuation">:</span><span class="token number">11</span><span class="token punctuation">.</span>103Z’<span class="token punctuation">;</span>\n<span class="token punctuation">}</span>\n</code></pre>\n      </div>\n<div class="gatsby-highlight">\n      <pre class="language-html"><code><span class="token comment" spellcheck="true">&lt;!-- example.component.html --></span>\n\n<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span><span class="token punctuation">></span></span>Current Time: {{timestamp | date:‘short’}}<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">></span></span>\n</code></pre>\n      </div>\n<p>The format of the above <code>timestamp</code> is <a href="https://en.wikipedia.org/wiki/ISO_8601">ISO 8601<sup>1</sup></a>—not the easiest to read. The DatePipe (<code>date</code>) transforms the ISO date format into a more conventional <code>mm/dd/yy, hh:mm AM|PM</code>. There are many other formatting options. All these options are in the <a href="https://angular.io/api/common/DatePipe">official documentation</a>.</p>\n<h4>Creating Pipes</h4>\n<p>While Angular only has a set number of pipes, the <code>@Pipe</code> decorator lets developers create their own. The process begins with <code>ng generate pipe [name-of-pipe]</code>, replacing <code>[name-of-pipe]</code> with a preferable filename. This is an <a href="https://cli.angular.io">Angular CLI</a> command. It yields the following.</p>\n<div class="gatsby-highlight">\n      <pre class="language-typescript"><code><span class="token keyword">import</span> <span class="token punctuation">{</span> Pipe<span class="token punctuation">,</span> PipeTransform <span class="token punctuation">}</span> <span class="token keyword">from</span> ‘@angular<span class="token operator">/</span>core’<span class="token punctuation">;</span>\n\n@<span class="token function">Pipe</span><span class="token punctuation">(</span><span class="token punctuation">{</span>\n  name<span class="token punctuation">:</span> <span class="token string">\'example\'</span>\n<span class="token punctuation">}</span><span class="token punctuation">)</span>\n<span class="token keyword">export</span> <span class="token keyword">class</span> <span class="token class-name">ExamplePipe</span> <span class="token keyword">implements</span> <span class="token class-name">PipeTransform</span> <span class="token punctuation">{</span>\n  <span class="token function">transform</span><span class="token punctuation">(</span>value<span class="token punctuation">:</span> <span class="token keyword">any</span><span class="token punctuation">,</span> args<span class="token operator">?</span><span class="token punctuation">:</span> <span class="token keyword">any</span><span class="token punctuation">)</span><span class="token punctuation">:</span> <span class="token keyword">any</span> <span class="token punctuation">{</span>\n      <span class="token keyword">return</span> <span class="token keyword">null</span><span class="token punctuation">;</span>\n  <span class="token punctuation">}</span>\n<span class="token punctuation">}</span>\n</code></pre>\n      </div>\n<p>This pipe template simplifies custom pipe creation. The <code>@Pipe</code> decorator tells Angular the class is a pipe. The value of <code>name: ‘example’</code>, in this case being <code>example</code>, is the value Angular recognizes when scanning template HTML for custom pipes.</p>\n<p>On to the class logic. The <code>PipeTransform</code> implementation provides the instructions for the <code>transform</code> function. This function has special meaning within context of the <code>@Pipe</code> decorator. It receives two parameters by default.</p>\n<p><code>value: any</code> is the output that the pipe receives. Think of <code>&#x3C;div>{{ someValue | example }}&#x3C;/div></code>. The value of someValue gets passed to the <code>transform</code> function’s <code>value: any</code> parameter. This is the same <code>transform</code> function defined in the ExamplePipe class.</p>\n<p><code>args?: any</code> is any argument that the pipe optionally receives. Think of <code>&#x3C;div>{{ someValue | example:[some-argument] }}&#x3C;/div></code>. <code>[some-argument]’ can be replace by any one value. This value gets passed to the</code>transform<code>function’s</code>args?: any<code>parameter. That is, the</code>transform` function defined in ExamplePipe’s class.</p>\n<p>Whatever the function returns (<code>return null;</code>) becomes the output of the pipe operation. Take a look at the next example to see a complete example of ExamplePipe. Depending on the variable the pipe receives, it either uppercases or lowercases the input as new output. An invalid or nonexistent argument will cause the pipe to return the same input as output.</p>\n<div class="gatsby-highlight">\n      <pre class="language-typescript"><code><span class="token comment" spellcheck="true">// example.pipe.ts</span>\n\n@<span class="token function">Pipe</span><span class="token punctuation">(</span><span class="token punctuation">{</span>\n  name<span class="token punctuation">:</span> <span class="token string">\'example\'</span>\n<span class="token punctuation">}</span><span class="token punctuation">)</span>\n<span class="token keyword">export</span> <span class="token keyword">class</span> <span class="token class-name">ExamplePipe</span> <span class="token keyword">implements</span> <span class="token class-name">PipeTransform</span> <span class="token punctuation">{</span>\n  <span class="token function">transform</span><span class="token punctuation">(</span>value<span class="token punctuation">:</span><span class="token keyword">string</span><span class="token punctuation">,</span> args<span class="token operator">?</span><span class="token punctuation">:</span><span class="token keyword">string</span><span class="token punctuation">)</span><span class="token punctuation">:</span> <span class="token keyword">any</span> <span class="token punctuation">{</span>\n    <span class="token keyword">switch</span><span class="token punctuation">(</span>args <span class="token operator">||</span> <span class="token keyword">null</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>\n      <span class="token keyword">case</span> <span class="token string">\'uppercase\'</span><span class="token punctuation">:</span>\n        <span class="token keyword">return</span> value<span class="token punctuation">.</span><span class="token function">toUpperCase</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>\n      <span class="token keyword">case</span> <span class="token string">\'lowercase\'</span><span class="token punctuation">:</span>\n        <span class="token keyword">return</span> value<span class="token punctuation">.</span><span class="token function">toLowerCase</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>\n      <span class="token keyword">default</span><span class="token punctuation">:</span>\n        <span class="token keyword">return</span> value<span class="token punctuation">;</span>\n    <span class="token punctuation">}</span>\n  <span class="token punctuation">}</span>\n<span class="token punctuation">}</span>\n</code></pre>\n      </div>\n<div class="gatsby-highlight">\n      <pre class="language-typescript"><code><span class="token comment" spellcheck="true">// app.component.ts</span>\n\n@<span class="token function">Component</span><span class="token punctuation">(</span><span class="token punctuation">{</span>\n  templateUrl<span class="token punctuation">:</span> <span class="token string">\'app.component.html\'</span>\n<span class="token punctuation">}</span><span class="token punctuation">)</span>\n<span class="token keyword">export</span> <span class="token keyword">class</span> <span class="token class-name">AppComponent</span> <span class="token punctuation">{</span>\n  someValue<span class="token punctuation">:</span><span class="token keyword">string</span> <span class="token operator">=</span> <span class="token string">"HeLlO WoRlD!"</span><span class="token punctuation">;</span>\n<span class="token punctuation">}</span>\n</code></pre>\n      </div>\n<div class="gatsby-highlight">\n      <pre class="language-html"><code><span class="token comment" spellcheck="true">&lt;!-- app.component.html --></span>\n\n<span class="token comment" spellcheck="true">&lt;!-- Outputs “HeLlO WoRlD!” --></span>\n<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>h6</span><span class="token punctuation">></span></span>{{ someValue | example }}<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>h6</span><span class="token punctuation">></span></span>\n\n<span class="token comment" spellcheck="true">&lt;!-- Outputs “HELLO WORLD!” --></span>\n<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>h6</span><span class="token punctuation">></span></span>{{ someValue | example:‘uppercase’ }}<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>h6</span><span class="token punctuation">></span></span>\n\n<span class="token comment" spellcheck="true">&lt;!-- Outputs “hello world!” --></span>\n<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>h6</span><span class="token punctuation">></span></span>{{ someValue | example:‘lowercase’ }}<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>h6</span><span class="token punctuation">></span></span>\n</code></pre>\n      </div>\n<p>Understanding the above example means you understand Angular pipes. There is only one more topic left to discuss.</p>\n<h4>Pure and Impure Pipes</h4>\n<p>Everything you have seen so far has been a <em>pure</em> pipe. <code>pure: true</code> is set by default in the <code>@Pipe</code> decorator’s metadata. The difference between the two constitutes Angular’s change detection.</p>\n<p>Pure pipes update automatically whenever the value of its derived input changes. The pipe will re-execute to produce new output upon a detectable change in the input value. Detectable changes are determined by Angular’s change detection loop.</p>\n<p>Impure pipes update automatically whenever a change detection cycle occurs. Angular’s change detection happens quite often. It signals if changes have occurred in the component class’ member data. If so, the template HTML updates with the updated data. Otherwise, nothing will happen.</p>\n<p>In the case of an impure pipe, it will update regardless of whether there is a detectable change or not. An impure pipe updates whenever change detection loops. Impure pipes usually consume lots of resources and are generally ill-advised. That said, they operate more as an escape hatch. If you ever need a detection-sensitive pipe, toggle <code>pure: false</code> in the <code>@Pipe</code> decorator’s metadata.</p>\n<h4>Conclusion</h4>\n<p>That covers pipes. Pipes have plenty of potential beyond the scope of this article. Pipes contribute succinct data transformations to your components’ template HTML. They are good practice in situations where data must undergo small transformations.</p>\n<h2>Sources</h2>\n<ol>\n<li><a href="https://en.wikipedia.org/wiki/ISO_8601">Wiki Community. <em>ISO 8601</em>. Wikipedia. Accessed 27 May 2018</a></li>\n</ol>\n<h2>Resources</h2>\n<ul>\n<li><a href="https://angular.io/guide/pipes">Angular Documentation</a></li>\n<li><a href="https://github.com/angular/angular">Angular GitHub Repository</a></li>\n<li><a href="https://angular.io/api?query=pipe">List of Pipes Pre-packaged with Angular</a></li>\n<li><a href="https://cli.angular.io">Angular CLI</a></li>\n</ul>',fields:{slug:"/angular/pipes/"},frontmatter:{title:"Pipes"}}},pathContext:{slug:"/angular/pipes/"}}}});
//# sourceMappingURL=path---angular-pipes-1d4b13f1e2e29eba0b0a.js.map