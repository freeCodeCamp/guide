{"version":3,"sources":["webpack:///path---php-security-sql-injection-cd7d461923a191fde0ce.js","webpack:///./.cache/json/php-security-sql-injection.json"],"names":["webpackJsonp","./node_modules/json-loader/index.js!./.cache/json/php-security-sql-injection.json","module","exports","data","markdownRemark","html","fields","slug","frontmatter","title","pathContext"],"mappings":"AAAAA,cAAc,qBAERC,oFACA,SAAUC,EAAQC,GCHxBD,EAAAC,SAAkBC,MAAQC,gBAAkBC,KAAA,ygSAAkjQC,QAAyzCC,KAAA,gCAAsCC,aAAgBC,MAAA,mBAA0BC,aAAgBH,KAAA","file":"path---php-security-sql-injection-cd7d461923a191fde0ce.js","sourcesContent":["webpackJsonp([17081345692903390000],{\n\n/***/ \"./node_modules/json-loader/index.js!./.cache/json/php-security-sql-injection.json\":\n/***/ (function(module, exports) {\n\n\tmodule.exports = {\"data\":{\"markdownRemark\":{\"html\":\"<h2>SQL Injection</h2>\\n<p>A vulnerability in the application caused by the programmer not sanitizing input before including it into a query into the database. This leads to the attacker having full read and more often than not write access to the database. With this type of access an attacker can do very bad things.</p>\\n<h3>Example SQL Injection attack</h3>\\n<p>The below PHP Script runs an SQL Statement to get a user’s email by ID. However the input is not sanitized making it vulnerable to SQL Injection</p>\\n<div class=\\\"gatsby-highlight\\\">\\n      <pre class=\\\"language-php\\\"><code><span class=\\\"token delimiter important\\\">&lt;?php</span>\\n<span class=\\\"token variable\\\">$input</span> <span class=\\\"token operator\\\">=</span> <span class=\\\"token variable\\\">$_GET</span><span class=\\\"token punctuation\\\">[</span><span class=\\\"token string\\\">'id'</span><span class=\\\"token punctuation\\\">]</span><span class=\\\"token punctuation\\\">;</span>\\n<span class=\\\"token variable\\\">$dbserver</span> <span class=\\\"token operator\\\">=</span> <span class=\\\"token string\\\">\\\"localhost\\\"</span><span class=\\\"token punctuation\\\">;</span>\\n<span class=\\\"token variable\\\">$dbuser</span> <span class=\\\"token operator\\\">=</span> <span class=\\\"token string\\\">\\\"camper\\\"</span><span class=\\\"token punctuation\\\">;</span>\\n<span class=\\\"token variable\\\">$dbpass</span> <span class=\\\"token operator\\\">=</span> <span class=\\\"token string\\\">\\\"supersecretcampsitepassword\\\"</span><span class=\\\"token punctuation\\\">;</span>\\n<span class=\\\"token variable\\\">$dbname</span> <span class=\\\"token operator\\\">=</span> <span class=\\\"token string\\\">\\\"freecodecamp\\\"</span><span class=\\\"token punctuation\\\">;</span>\\n\\n<span class=\\\"token variable\\\">$conn</span> <span class=\\\"token operator\\\">=</span> <span class=\\\"token keyword\\\">new</span> <span class=\\\"token class-name\\\">mysqli</span><span class=\\\"token punctuation\\\">(</span><span class=\\\"token variable\\\">$dbserver</span><span class=\\\"token punctuation\\\">,</span> <span class=\\\"token variable\\\">$dbuser</span><span class=\\\"token punctuation\\\">,</span> <span class=\\\"token variable\\\">$dbpass</span><span class=\\\"token punctuation\\\">,</span> <span class=\\\"token variable\\\">$dbname</span><span class=\\\"token punctuation\\\">)</span><span class=\\\"token punctuation\\\">;</span>\\n\\n<span class=\\\"token keyword\\\">if</span> <span class=\\\"token punctuation\\\">(</span><span class=\\\"token variable\\\">$conn</span><span class=\\\"token operator\\\">-</span><span class=\\\"token operator\\\">></span><span class=\\\"token property\\\">connect_error</span><span class=\\\"token punctuation\\\">)</span> <span class=\\\"token punctuation\\\">{</span>\\n    <span class=\\\"token keyword\\\">die</span><span class=\\\"token punctuation\\\">(</span><span class=\\\"token string\\\">\\\"Connection failed: \\\"</span> <span class=\\\"token punctuation\\\">.</span> <span class=\\\"token variable\\\">$conn</span><span class=\\\"token operator\\\">-</span><span class=\\\"token operator\\\">></span><span class=\\\"token property\\\">connect_error</span><span class=\\\"token punctuation\\\">)</span><span class=\\\"token punctuation\\\">;</span>\\n<span class=\\\"token punctuation\\\">}</span>\\n\\n<span class=\\\"token variable\\\">$sql</span> <span class=\\\"token operator\\\">=</span> <span class=\\\"token string\\\">\\\"SELECT email FROM users WHERE id =\\\"</span> <span class=\\\"token punctuation\\\">.</span> <span class=\\\"token variable\\\">$input</span><span class=\\\"token punctuation\\\">;</span>\\n\\n<span class=\\\"token variable\\\">$result</span> <span class=\\\"token operator\\\">=</span> <span class=\\\"token variable\\\">$conn</span><span class=\\\"token operator\\\">-</span><span class=\\\"token operator\\\">></span><span class=\\\"token function\\\">query</span><span class=\\\"token punctuation\\\">(</span><span class=\\\"token variable\\\">$sql</span><span class=\\\"token punctuation\\\">)</span><span class=\\\"token punctuation\\\">;</span>\\n\\n<span class=\\\"token keyword\\\">if</span> <span class=\\\"token punctuation\\\">(</span><span class=\\\"token variable\\\">$result</span><span class=\\\"token operator\\\">-</span><span class=\\\"token operator\\\">></span><span class=\\\"token property\\\">num_rows</span> <span class=\\\"token operator\\\">></span> <span class=\\\"token number\\\">0</span><span class=\\\"token punctuation\\\">)</span> <span class=\\\"token punctuation\\\">{</span>\\n    <span class=\\\"token keyword\\\">while</span><span class=\\\"token punctuation\\\">(</span><span class=\\\"token variable\\\">$row</span> <span class=\\\"token operator\\\">=</span> <span class=\\\"token variable\\\">$result</span><span class=\\\"token operator\\\">-</span><span class=\\\"token operator\\\">></span><span class=\\\"token function\\\">fetch_assoc</span><span class=\\\"token punctuation\\\">(</span><span class=\\\"token punctuation\\\">)</span><span class=\\\"token punctuation\\\">)</span> <span class=\\\"token punctuation\\\">{</span>\\n        <span class=\\\"token keyword\\\">echo</span> <span class=\\\"token variable\\\">$row</span><span class=\\\"token punctuation\\\">[</span><span class=\\\"token string\\\">\\\"email\\\"</span><span class=\\\"token punctuation\\\">]</span><span class=\\\"token punctuation\\\">;</span>\\n    <span class=\\\"token punctuation\\\">}</span>\\n<span class=\\\"token punctuation\\\">}</span> <span class=\\\"token keyword\\\">else</span> <span class=\\\"token punctuation\\\">{</span>\\n    <span class=\\\"token keyword\\\">echo</span> <span class=\\\"token string\\\">\\\"no results\\\"</span><span class=\\\"token punctuation\\\">;</span>\\n<span class=\\\"token punctuation\\\">}</span>\\n\\n<span class=\\\"token variable\\\">$conn</span><span class=\\\"token operator\\\">-</span><span class=\\\"token operator\\\">></span><span class=\\\"token function\\\">close</span><span class=\\\"token punctuation\\\">(</span><span class=\\\"token punctuation\\\">)</span><span class=\\\"token punctuation\\\">;</span>\\n</code></pre>\\n      </div>\\n<div class=\\\"gatsby-highlight\\\">\\n      <pre class=\\\"language-sql\\\"><code><span class=\\\"token keyword\\\">SELECT</span> email <span class=\\\"token keyword\\\">FROM</span> users <span class=\\\"token keyword\\\">WHERE</span> id <span class=\\\"token operator\\\">=</span> <span class=\\\"token punctuation\\\">`</span>$input<span class=\\\"token punctuation\\\">`</span><span class=\\\"token punctuation\\\">;</span>\\n</code></pre>\\n      </div>\\n<p>So with the above the input is not type casted (I.e. casting the input with (int) so only a number is allowed) nor escaped allowing someone to perform an SQL Injection attack - for example the URL <code>getemailbyuserid.php?id=1'; My Query Here-- -</code> would allow you to run arbitrary SQL queries with little effort.</p>\\n<h3>Defending your website from sql injection attacks in PHP</h3>\\n<p>There are a few approaches to defend your website from SQL Injection Attacks. These approaches are Whitelisting, Type Casting, and Character Escaping</p>\\n<p><strong>Whitelisting:</strong>\\nThe whitelisting approach is used in cases where only a few inputs are expected. You can list each expected input in a PHP Switch and then have a default for invalid input. You do not have to worry about a type casting issue or a character escape bypass but the allowed input is extreamly limited. It remains an option, see the example below.</p>\\n<div class=\\\"gatsby-highlight\\\">\\n      <pre class=\\\"language-php\\\"><code><span class=\\\"token delimiter important\\\">&lt;?php</span>\\n<span class=\\\"token keyword\\\">switch</span> <span class=\\\"token punctuation\\\">(</span><span class=\\\"token variable\\\">$input</span><span class=\\\"token punctuation\\\">)</span> <span class=\\\"token punctuation\\\">{</span>\\n  <span class=\\\"token keyword\\\">case</span> <span class=\\\"token string\\\">\\\"1\\\"</span><span class=\\\"token punctuation\\\">:</span>\\n    <span class=\\\"token comment\\\" spellcheck=\\\"true\\\">//db query 1</span>\\n    <span class=\\\"token keyword\\\">break</span><span class=\\\"token punctuation\\\">;</span>\\n  <span class=\\\"token keyword\\\">case</span> <span class=\\\"token string\\\">\\\"2\\\"</span><span class=\\\"token punctuation\\\">:</span>\\n    <span class=\\\"token comment\\\" spellcheck=\\\"true\\\">//db query 2</span>\\n    <span class=\\\"token keyword\\\">break</span><span class=\\\"token punctuation\\\">;</span>\\n  <span class=\\\"token keyword\\\">default</span><span class=\\\"token punctuation\\\">:</span>\\n    <span class=\\\"token comment\\\" spellcheck=\\\"true\\\">// invalid input return error</span>\\n<span class=\\\"token punctuation\\\">}</span>\\n</code></pre>\\n      </div>\\n<p><strong>Type Casting:</strong>\\nThe type casting approach is commonly used for an application using numeric input. Simply cast the input with <code>(int) $input</code> and only a numeric value will be allowed.</p>\\n<p><strong>Character Escaping:</strong>\\nThe character escaping approach will escape characters such as quotes and slashes provided by the user to prevent an attack. If you are using MySQL Server and the MySQLi library to access your database, the  <code>mysqli_real_escape_string($conn, $string)</code> function will take two arguments, the MySQLi connection, and the string and will properly escape the user’s input to block an sql injection attack. The exact function you use depends on the database type and php library you are using check the php library’s documentation for more information on escaping user input.</p>\\n<h4>More Information:</h4>\\n<ul>\\n<li><a href=\\\"https://www.owasp.org/index.php/SQL_Injection\\\" rel=\\\"nofollow\\\">OWASP Wiki - SQL Injection</a></li>\\n<li><a href=\\\"https://secure.php.net/manual/en/security.database.sql-injection.php\\\" rel=\\\"nofollow\\\">php.net SQL Injection manual</a></li>\\n<li><a href=\\\"https://secure.php.net/manual/en/mysqli.real-escape-string.php\\\" rel=\\\"nofollow\\\">php.net MySQLi Real Escape String manual</a></li>\\n</ul>\",\"fields\":{\"slug\":\"/php/security/sql-injection/\"},\"frontmatter\":{\"title\":\"SQL Injection\"}}},\"pathContext\":{\"slug\":\"/php/security/sql-injection/\"}}\n\n/***/ })\n\n});\n\n\n// WEBPACK FOOTER //\n// path---php-security-sql-injection-cd7d461923a191fde0ce.js","module.exports = {\"data\":{\"markdownRemark\":{\"html\":\"<h2>SQL Injection</h2>\\n<p>A vulnerability in the application caused by the programmer not sanitizing input before including it into a query into the database. This leads to the attacker having full read and more often than not write access to the database. With this type of access an attacker can do very bad things.</p>\\n<h3>Example SQL Injection attack</h3>\\n<p>The below PHP Script runs an SQL Statement to get a user’s email by ID. However the input is not sanitized making it vulnerable to SQL Injection</p>\\n<div class=\\\"gatsby-highlight\\\">\\n      <pre class=\\\"language-php\\\"><code><span class=\\\"token delimiter important\\\">&lt;?php</span>\\n<span class=\\\"token variable\\\">$input</span> <span class=\\\"token operator\\\">=</span> <span class=\\\"token variable\\\">$_GET</span><span class=\\\"token punctuation\\\">[</span><span class=\\\"token string\\\">'id'</span><span class=\\\"token punctuation\\\">]</span><span class=\\\"token punctuation\\\">;</span>\\n<span class=\\\"token variable\\\">$dbserver</span> <span class=\\\"token operator\\\">=</span> <span class=\\\"token string\\\">\\\"localhost\\\"</span><span class=\\\"token punctuation\\\">;</span>\\n<span class=\\\"token variable\\\">$dbuser</span> <span class=\\\"token operator\\\">=</span> <span class=\\\"token string\\\">\\\"camper\\\"</span><span class=\\\"token punctuation\\\">;</span>\\n<span class=\\\"token variable\\\">$dbpass</span> <span class=\\\"token operator\\\">=</span> <span class=\\\"token string\\\">\\\"supersecretcampsitepassword\\\"</span><span class=\\\"token punctuation\\\">;</span>\\n<span class=\\\"token variable\\\">$dbname</span> <span class=\\\"token operator\\\">=</span> <span class=\\\"token string\\\">\\\"freecodecamp\\\"</span><span class=\\\"token punctuation\\\">;</span>\\n\\n<span class=\\\"token variable\\\">$conn</span> <span class=\\\"token operator\\\">=</span> <span class=\\\"token keyword\\\">new</span> <span class=\\\"token class-name\\\">mysqli</span><span class=\\\"token punctuation\\\">(</span><span class=\\\"token variable\\\">$dbserver</span><span class=\\\"token punctuation\\\">,</span> <span class=\\\"token variable\\\">$dbuser</span><span class=\\\"token punctuation\\\">,</span> <span class=\\\"token variable\\\">$dbpass</span><span class=\\\"token punctuation\\\">,</span> <span class=\\\"token variable\\\">$dbname</span><span class=\\\"token punctuation\\\">)</span><span class=\\\"token punctuation\\\">;</span>\\n\\n<span class=\\\"token keyword\\\">if</span> <span class=\\\"token punctuation\\\">(</span><span class=\\\"token variable\\\">$conn</span><span class=\\\"token operator\\\">-</span><span class=\\\"token operator\\\">></span><span class=\\\"token property\\\">connect_error</span><span class=\\\"token punctuation\\\">)</span> <span class=\\\"token punctuation\\\">{</span>\\n    <span class=\\\"token keyword\\\">die</span><span class=\\\"token punctuation\\\">(</span><span class=\\\"token string\\\">\\\"Connection failed: \\\"</span> <span class=\\\"token punctuation\\\">.</span> <span class=\\\"token variable\\\">$conn</span><span class=\\\"token operator\\\">-</span><span class=\\\"token operator\\\">></span><span class=\\\"token property\\\">connect_error</span><span class=\\\"token punctuation\\\">)</span><span class=\\\"token punctuation\\\">;</span>\\n<span class=\\\"token punctuation\\\">}</span>\\n\\n<span class=\\\"token variable\\\">$sql</span> <span class=\\\"token operator\\\">=</span> <span class=\\\"token string\\\">\\\"SELECT email FROM users WHERE id =\\\"</span> <span class=\\\"token punctuation\\\">.</span> <span class=\\\"token variable\\\">$input</span><span class=\\\"token punctuation\\\">;</span>\\n\\n<span class=\\\"token variable\\\">$result</span> <span class=\\\"token operator\\\">=</span> <span class=\\\"token variable\\\">$conn</span><span class=\\\"token operator\\\">-</span><span class=\\\"token operator\\\">></span><span class=\\\"token function\\\">query</span><span class=\\\"token punctuation\\\">(</span><span class=\\\"token variable\\\">$sql</span><span class=\\\"token punctuation\\\">)</span><span class=\\\"token punctuation\\\">;</span>\\n\\n<span class=\\\"token keyword\\\">if</span> <span class=\\\"token punctuation\\\">(</span><span class=\\\"token variable\\\">$result</span><span class=\\\"token operator\\\">-</span><span class=\\\"token operator\\\">></span><span class=\\\"token property\\\">num_rows</span> <span class=\\\"token operator\\\">></span> <span class=\\\"token number\\\">0</span><span class=\\\"token punctuation\\\">)</span> <span class=\\\"token punctuation\\\">{</span>\\n    <span class=\\\"token keyword\\\">while</span><span class=\\\"token punctuation\\\">(</span><span class=\\\"token variable\\\">$row</span> <span class=\\\"token operator\\\">=</span> <span class=\\\"token variable\\\">$result</span><span class=\\\"token operator\\\">-</span><span class=\\\"token operator\\\">></span><span class=\\\"token function\\\">fetch_assoc</span><span class=\\\"token punctuation\\\">(</span><span class=\\\"token punctuation\\\">)</span><span class=\\\"token punctuation\\\">)</span> <span class=\\\"token punctuation\\\">{</span>\\n        <span class=\\\"token keyword\\\">echo</span> <span class=\\\"token variable\\\">$row</span><span class=\\\"token punctuation\\\">[</span><span class=\\\"token string\\\">\\\"email\\\"</span><span class=\\\"token punctuation\\\">]</span><span class=\\\"token punctuation\\\">;</span>\\n    <span class=\\\"token punctuation\\\">}</span>\\n<span class=\\\"token punctuation\\\">}</span> <span class=\\\"token keyword\\\">else</span> <span class=\\\"token punctuation\\\">{</span>\\n    <span class=\\\"token keyword\\\">echo</span> <span class=\\\"token string\\\">\\\"no results\\\"</span><span class=\\\"token punctuation\\\">;</span>\\n<span class=\\\"token punctuation\\\">}</span>\\n\\n<span class=\\\"token variable\\\">$conn</span><span class=\\\"token operator\\\">-</span><span class=\\\"token operator\\\">></span><span class=\\\"token function\\\">close</span><span class=\\\"token punctuation\\\">(</span><span class=\\\"token punctuation\\\">)</span><span class=\\\"token punctuation\\\">;</span>\\n</code></pre>\\n      </div>\\n<div class=\\\"gatsby-highlight\\\">\\n      <pre class=\\\"language-sql\\\"><code><span class=\\\"token keyword\\\">SELECT</span> email <span class=\\\"token keyword\\\">FROM</span> users <span class=\\\"token keyword\\\">WHERE</span> id <span class=\\\"token operator\\\">=</span> <span class=\\\"token punctuation\\\">`</span>$input<span class=\\\"token punctuation\\\">`</span><span class=\\\"token punctuation\\\">;</span>\\n</code></pre>\\n      </div>\\n<p>So with the above the input is not type casted (I.e. casting the input with (int) so only a number is allowed) nor escaped allowing someone to perform an SQL Injection attack - for example the URL <code>getemailbyuserid.php?id=1'; My Query Here-- -</code> would allow you to run arbitrary SQL queries with little effort.</p>\\n<h3>Defending your website from sql injection attacks in PHP</h3>\\n<p>There are a few approaches to defend your website from SQL Injection Attacks. These approaches are Whitelisting, Type Casting, and Character Escaping</p>\\n<p><strong>Whitelisting:</strong>\\nThe whitelisting approach is used in cases where only a few inputs are expected. You can list each expected input in a PHP Switch and then have a default for invalid input. You do not have to worry about a type casting issue or a character escape bypass but the allowed input is extreamly limited. It remains an option, see the example below.</p>\\n<div class=\\\"gatsby-highlight\\\">\\n      <pre class=\\\"language-php\\\"><code><span class=\\\"token delimiter important\\\">&lt;?php</span>\\n<span class=\\\"token keyword\\\">switch</span> <span class=\\\"token punctuation\\\">(</span><span class=\\\"token variable\\\">$input</span><span class=\\\"token punctuation\\\">)</span> <span class=\\\"token punctuation\\\">{</span>\\n  <span class=\\\"token keyword\\\">case</span> <span class=\\\"token string\\\">\\\"1\\\"</span><span class=\\\"token punctuation\\\">:</span>\\n    <span class=\\\"token comment\\\" spellcheck=\\\"true\\\">//db query 1</span>\\n    <span class=\\\"token keyword\\\">break</span><span class=\\\"token punctuation\\\">;</span>\\n  <span class=\\\"token keyword\\\">case</span> <span class=\\\"token string\\\">\\\"2\\\"</span><span class=\\\"token punctuation\\\">:</span>\\n    <span class=\\\"token comment\\\" spellcheck=\\\"true\\\">//db query 2</span>\\n    <span class=\\\"token keyword\\\">break</span><span class=\\\"token punctuation\\\">;</span>\\n  <span class=\\\"token keyword\\\">default</span><span class=\\\"token punctuation\\\">:</span>\\n    <span class=\\\"token comment\\\" spellcheck=\\\"true\\\">// invalid input return error</span>\\n<span class=\\\"token punctuation\\\">}</span>\\n</code></pre>\\n      </div>\\n<p><strong>Type Casting:</strong>\\nThe type casting approach is commonly used for an application using numeric input. Simply cast the input with <code>(int) $input</code> and only a numeric value will be allowed.</p>\\n<p><strong>Character Escaping:</strong>\\nThe character escaping approach will escape characters such as quotes and slashes provided by the user to prevent an attack. If you are using MySQL Server and the MySQLi library to access your database, the  <code>mysqli_real_escape_string($conn, $string)</code> function will take two arguments, the MySQLi connection, and the string and will properly escape the user’s input to block an sql injection attack. The exact function you use depends on the database type and php library you are using check the php library’s documentation for more information on escaping user input.</p>\\n<h4>More Information:</h4>\\n<ul>\\n<li><a href=\\\"https://www.owasp.org/index.php/SQL_Injection\\\" rel=\\\"nofollow\\\">OWASP Wiki - SQL Injection</a></li>\\n<li><a href=\\\"https://secure.php.net/manual/en/security.database.sql-injection.php\\\" rel=\\\"nofollow\\\">php.net SQL Injection manual</a></li>\\n<li><a href=\\\"https://secure.php.net/manual/en/mysqli.real-escape-string.php\\\" rel=\\\"nofollow\\\">php.net MySQLi Real Escape String manual</a></li>\\n</ul>\",\"fields\":{\"slug\":\"/php/security/sql-injection/\"},\"frontmatter\":{\"title\":\"SQL Injection\"}}},\"pathContext\":{\"slug\":\"/php/security/sql-injection/\"}}\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./~/json-loader!./.cache/json/php-security-sql-injection.json\n// module id = ./node_modules/json-loader/index.js!./.cache/json/php-security-sql-injection.json\n// module chunks = 17081345692903390000"],"sourceRoot":""}