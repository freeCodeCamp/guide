{"version":3,"sources":["../../src/cache-dir/api-runner-ssr.js"],"names":["apis","require","module","exports","api","args","defaultReturn","console","log","results","plugins","map","plugin","result","options","filter","length"],"mappings":";;AAAA;AACA;AACA;AACA;AACA;;AAEA,IAAMA,OAAOC,QAAS,gBAAT,CAAb;;AAEAC,OAAOC,OAAP,GAAiB,UAACC,GAAD,EAAMC,IAAN,EAAYC,aAAZ,EAA8B;AAC7C,MAAI,CAACN,KAAKI,GAAL,CAAL,EAAgB;AACdG,YAAQC,GAAR,CAAa,wBAAb,EAAsCJ,GAAtC;AACD;AACD;AACA,MAAIK,UAAUC,QAAQC,GAAR,CAAY,kBAAU;AAClC,QAAIC,OAAOA,MAAP,CAAcR,GAAd,CAAJ,EAAwB;AACtB,UAAMS,SAASD,OAAOA,MAAP,CAAcR,GAAd,EAAmBC,IAAnB,EAAyBO,OAAOE,OAAhC,CAAf;AACA,aAAOD,MAAP;AACD;AACF;;AAED;AAPc,GAAd,CAQAJ,UAAUA,QAAQM,MAAR,CAAe;AAAA,WAAU,OAAOF,MAAP,KAAmB,WAA7B;AAAA,GAAf,CAAV;;AAEA,MAAIJ,QAAQO,MAAR,GAAiB,CAArB,EAAwB;AACtB,WAAOP,OAAP;AACD,GAFD,MAEO;AACL,WAAO,CAACH,aAAD,CAAP;AACD;AACF,CApBD","file":"api-runner-ssr.js","sourcesContent":["// During bootstrap, we write requires at top of this file which looks like:\n// var plugins = [\n//   require('/path/to/plugin1/gatsby-ssr.js'),\n//   require('/path/to/plugin2/gatsby-ssr.js'),\n// ]\n\nconst apis = require(`./api-ssr-docs`)\n\nmodule.exports = (api, args, defaultReturn) => {\n  if (!apis[api]) {\n    console.log(`This API doesn't exist`, api)\n  }\n  // Run each plugin in series.\n  let results = plugins.map(plugin => {\n    if (plugin.plugin[api]) {\n      const result = plugin.plugin[api](args, plugin.options)\n      return result\n    }\n  })\n\n  // Filter out undefined results.\n  results = results.filter(result => typeof result !== `undefined`)\n\n  if (results.length > 0) {\n    return results\n  } else {\n    return [defaultReturn]\n  }\n}\n"]}